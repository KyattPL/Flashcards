(this.webpackJsonpflashcards=this.webpackJsonpflashcards||[]).push([[0],{48:function(e,t,a){},50:function(e,t,a){},53:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(27),i=a.n(c),r=(a(48),a(49),a(21)),o=a(22),l=a(26),d=a(25),j=(a(50),a(15)),b=a(24),h=a(41),u=a(29),O=a(17),x=a(6),g=a(11),m=a(19),p=a(1);var v=function(e){return e.loggedStatus?Object(p.jsx)(O.a,{className:"navbar-text mr-3",children:e.user}):Object(p.jsx)(O.a,{className:"navbar-text mr-3",children:"Not logged in"})};a(53);var f=function(e){return Object(p.jsxs)(u.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top",children:[Object(p.jsx)(u.a.Brand,{as:j.b,to:"/",children:"Flashcards"}),Object(p.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar"}),Object(p.jsxs)(u.a.Collapse,{id:"responsive-navbar",children:[Object(p.jsxs)(O.a,{className:"mr-auto",children:[Object(p.jsx)(O.a.Link,{as:j.b,to:"/",children:"Home"}),Object(p.jsx)(O.a.Link,{as:j.b,to:"/about",children:"About"}),Object(p.jsx)(O.a.Link,{as:j.b,to:"/dashboard",children:"Dashboard"}),Object(p.jsx)(O.a.Link,{as:j.b,to:"/faq",children:"FAQ"})]}),Object(p.jsx)(v,{user:e.user,loggedStatus:e.loggedStatus}),e.loggedStatus?Object(p.jsx)(m.a,{className:"mr-3",variant:"outline-warning",children:"Log out"}):Object(p.jsx)(m.a,{className:"mr-3",variant:"outline-success",as:j.b,to:"/login",children:"Log in"}),Object(p.jsxs)(x.a,{inline:!0,className:"mt-2 mt-lg-0",children:[Object(p.jsx)(g.a,{type:"text",placeholder:"Search",className:"mr-2"}),Object(p.jsx)(m.a,{variant:"outline-success",children:"Search"})]})]})]})},k=a(43),y=a(28);var S=function(){return Object(p.jsx)(y.a,{children:Object(p.jsxs)(y.a.Body,{children:[Object(p.jsx)(y.a.Title,{children:"Test"}),Object(p.jsx)(y.a.Subtitle,{children:"Additional info"}),Object(p.jsx)(y.a.Text,{children:"Card info"})]})})};var L=function(){return Object(p.jsxs)(k.a,{children:[Object(p.jsx)(S,{}),Object(p.jsx)(S,{}),Object(p.jsx)(S,{}),Object(p.jsx)(S,{})]})},C=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).tryLoggingIn=function(e,t){fetch("/login",{body:JSON.stringify({email:e,pass:t}),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){"OK"==e&&n.props.changeLoggedStatus()}))},n.handleSubmit=function(e){n.setState({validated:!0}),e.preventDefault(),e.stopPropagation();var t=e.currentTarget;if(!0===t.checkValidity()){var a=t.elements[0].value,s=t.elements[1].value;n.tryLoggingIn(a,s)}},n.state={validated:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsxs)(b.a,{className:"mt-3",children:[Object(p.jsxs)(x.a,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit,children:[Object(p.jsxs)(x.a.Group,{controlId:"formEmail",children:[Object(p.jsx)(x.a.Label,{children:"Email address:"}),Object(p.jsx)(x.a.Control,{required:!0,type:"email",placeholder:"Enter email"}),Object(p.jsx)(g.a.Feedback,{type:"valid",children:"Looks great!"}),Object(p.jsx)(g.a.Feedback,{type:"invalid",children:"Please provide a proper email address"})]}),Object(p.jsxs)(x.a.Group,{controlId:"formPassword",children:[Object(p.jsx)(x.a.Label,{children:"Password:"}),Object(p.jsx)(x.a.Control,{required:!0,type:"password",placeholder:"Password"}),Object(p.jsx)(g.a.Feedback,{type:"valid",children:"Looks great!"}),Object(p.jsx)(g.a.Feedback,{type:"invalid",children:"Password is required"})]}),Object(p.jsx)(m.a,{variant:"success",type:"submit",children:"Submit"})]}),Object(p.jsx)("h6",{className:"mt-2",children:"Don't have an account?"}),Object(p.jsx)("a",{href:"/signup",children:"Sign up"})]})}}]),a}(s.a.Component),N=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).sendNewUser=function(e,t,a){fetch("/signup",{body:JSON.stringify({nick:e,email:t,pass:a}),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){"OK"==e&&window.location.replace(window.location.origin)}))},e.validateEmail=function(t,a,n){""!=a&&fetch("/emailInUse",{body:JSON.stringify({email:a.value}),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(s){"OK"==s?e.sendNewUser(t,a.value,n):(a.setCustomValidity("Email address already in use"),a.reportValidity())}))},e.handleSubmit=function(t){e.setState({validated:!0}),t.preventDefault(),t.stopPropagation();var a=t.currentTarget,n=a.elements[0],s=a.elements[1],c=a.elements[2],i=a.elements[3];n.checkValidity()&&c.checkValidity()&&i.checkValidity()&&e.validateEmail(n.value,s,c.value)},e.state={validated:!1},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(p.jsx)(b.a,{className:"mt-3",children:Object(p.jsxs)(x.a,{noValidate:!0,validated:this.state.validated,onSubmit:this.handleSubmit,children:[Object(p.jsxs)(x.a.Group,{controlId:"formNickname",children:[Object(p.jsx)(x.a.Label,{children:"Nickname:"}),Object(p.jsx)(x.a.Control,{name:"nickname",required:!0,type:"text",placeholder:"Nickname"}),Object(p.jsx)(x.a.Control.Feedback,{type:"valid",children:"Looks great!"}),Object(p.jsx)(x.a.Control.Feedback,{type:"invalid",children:"Nickname is required"})]}),Object(p.jsxs)(x.a.Group,{controlId:"formEmail",children:[Object(p.jsx)(x.a.Label,{children:"Email address:"}),Object(p.jsx)(x.a.Control,{name:"email",required:!0,type:"email",placeholder:"Enter email"}),Object(p.jsx)(g.a.Feedback,{type:"valid",children:"Looks great!"}),Object(p.jsx)(g.a.Feedback,{id:"emailStatus",type:"invalid",children:"Please input correct email address"})]}),Object(p.jsxs)(x.a.Group,{controlId:"formPassword",children:[Object(p.jsx)(x.a.Label,{children:"Password:"}),Object(p.jsx)(x.a.Control,{name:"password",required:!0,type:"password",placeholder:"Password"}),Object(p.jsx)(g.a.Feedback,{type:"valid",children:"Looks great!"}),Object(p.jsx)(g.a.Feedback,{type:"invalid",children:"Password is required"})]}),Object(p.jsx)(x.a.Group,{controlId:"formCheck",children:Object(p.jsxs)(x.a.Check,{children:[Object(p.jsx)(x.a.Check.Input,{required:!0}),Object(p.jsx)(x.a.Check.Label,{children:"Agree to terms of service"}),Object(p.jsx)(x.a.Control.Feedback,{type:"invalid",children:"You must agree before submitting"})]})}),Object(p.jsx)(m.a,{variant:"success",type:"submit",children:"Submit"})]})})}}]),a}(s.a.Component),w=a(7);var I=function(e){return console.log(e.loggedStatus),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(f,{user:e.user,loggedStatus:e.loggedStatus,changeLoggedStatus:e.changeLoggedStatus}),Object(p.jsxs)(w.d,{children:[Object(p.jsx)(w.b,{exact:!0,path:"/",children:Object(p.jsxs)(b.a,{children:[Object(p.jsx)(h.a,{className:"mt-3",children:Object(p.jsx)(L,{})}),Object(p.jsx)(h.a,{className:"mt-3",children:Object(p.jsx)(L,{})})]})}),Object(p.jsx)(w.b,{path:"/about",children:Object(p.jsx)("h1",{children:"About test"})}),Object(p.jsx)(w.b,{path:"/dashboard",children:Object(p.jsx)("h1",{children:"Dashboard test"})}),Object(p.jsx)(w.b,{path:"/faq",children:Object(p.jsx)("h1",{children:"FAQ test"})}),Object(p.jsx)(w.b,{path:"/login",children:e.loggedStatus?Object(p.jsx)(w.a,{to:"/"}):Object(p.jsx)(C,{changeLoggedStatus:e.changeLoggedStatus})}),Object(p.jsx)(w.b,{path:"/signup",children:e.loggedStatus?Object(p.jsx)(w.a,{to:"/"}):Object(p.jsx)(N,{})}),Object(p.jsx)(w.b,{children:Object(p.jsx)("h1",{children:"Bad page"})})]})]})},P=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).changeLoggedStatus=function(){e.setState((function(e){return{isLoggedIn:!e.isLoggedIn}}))},e.state={isLoggedIn:!1,username:"Diego"},e}return Object(o.a)(a,[{key:"checkCookie",value:function(){var e=this;fetch("/isLoggedIn").then((function(e){return e.text()})).then((function(t){"true"==t?e.setState({isLoggedIn:!0}):e.setState({isLoggedIn:!1})}))}},{key:"componentDidMount",value:function(){var e=this;this.checkCookie(),console.log("mounted"),setInterval((function(){return e.checkCookie()}),4e3)}},{key:"render",value:function(){return Object(p.jsx)(j.a,{basename:"",children:Object(p.jsx)(I,{user:this.state.username,loggedStatus:this.state.isLoggedIn,changeLoggedStatus:this.changeLoggedStatus})})}}]),a}(n.Component);i.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(P,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.4d672c09.chunk.js.map